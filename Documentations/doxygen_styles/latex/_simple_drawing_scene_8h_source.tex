\doxysection{Simple\+Drawing\+Scene.\+h}
\hypertarget{_simple_drawing_scene_8h_source}{}\label{_simple_drawing_scene_8h_source}\index{builtin/app/SimpleDrawer/core/SimpleDrawingScene.h@{builtin/app/SimpleDrawer/core/SimpleDrawingScene.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ SIMPLEDRAWINGSCENE\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ SIMPLEDRAWINGSCENE\_H}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ <QGraphicsScene>}}
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ <QPainterPath>}}
\DoxyCodeLine{00005\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_simple_drawing_scene_a3935fb2f1420cbbebd661fbdfee58ea6}{SimpleDrawingScene}}\ :\ \textcolor{keyword}{public}\ QGraphicsScene\ \{}
\DoxyCodeLine{00014\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00019\ \ \ \ \ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{class_simple_drawing_scene_a6db374d8ce718ce634f33c19eca0f142}{DrawingMode}}\ \{}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simple_drawing_scene_a6db374d8ce718ce634f33c19eca0f142}{DrawingMode}},\ }
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simple_drawing_scene_a6db374d8ce718ce634f33c19eca0f142a892169d13e2cfd4638bf38dd53dd0178}{EditMode}}\ }
\DoxyCodeLine{00022\ \ \ \ \ \};}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{class_simple_drawing_scene_ac1c43148efeef321be72ca1a4baf338f}{SupportItemItem}}\ \{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simple_drawing_scene_ac1c43148efeef321be72ca1a4baf338fa4803e6b9e63dabf04de980788d6a13c4}{Line}},\ }
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simple_drawing_scene_ac1c43148efeef321be72ca1a4baf338fa69ad58d91eec91b5c152d21ca117dc81}{Rect}},\ }
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simple_drawing_scene_ac1c43148efeef321be72ca1a4baf338fa119518c2134c46108179369f0ce81fa2}{Ellipse}},\ }
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{class_simple_drawing_scene_ac1c43148efeef321be72ca1a4baf338fa0d77efdcd3fbbbf8497cb965f771c30f}{FreeHand}}\ }
\DoxyCodeLine{00033\ \ \ \ \ \};}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{class_simple_drawing_scene_a3935fb2f1420cbbebd661fbdfee58ea6}{SimpleDrawingScene}}(QObject*\ parent\ =\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{comment}{//\ Property\ setters/getters}}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_a59697d1a030371fd8711e0050b481043}{setColor}}(\textcolor{keyword}{const}\ QColor\&\ color)\ \{\ currentColor\ =\ color;\ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keyword}{inline}\ QColor\ \mbox{\hyperlink{class_simple_drawing_scene_a7bf00dcfa9a6b9b4e1358b0fdf9e8f43}{getColor}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ currentColor;\ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_a0fce282f4206eada3ee048d5082bb759}{setPenWidth}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{short}\ penWidth)\ \{\ this-\/>penWidth\ =\ penWidth;\ \}}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{short}\ \mbox{\hyperlink{class_simple_drawing_scene_a0c3f864d21849bba344453035a4ba603}{getPenWidth}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ penWidth;\ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_aa5508ce91110c69ff182d182234ae0ed}{setItemType}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_simple_drawing_scene_ac1c43148efeef321be72ca1a4baf338f}{SupportItemItem}}\ i)\ \{\ itemType\ =\ i;\ \}}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_a5ad8e994ea9c9174b578dc3c961e60b8}{setMode}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_simple_drawing_scene_a6db374d8ce718ce634f33c19eca0f142}{DrawingMode}}\ m);}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00082\ \ \ \ \ QImage\ \mbox{\hyperlink{class_simple_drawing_scene_a4789a19367863381cc8f776d33c2e91a}{exportImage}}();}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \textcolor{keyword}{public}\ slots:}
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_a80c84494ebeb23df806f78e4ba15627c}{undo}}();}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_a1a76c9d86572dafe564ac53f55cdedfb}{redo}}();}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_a058fd906f0b02a82d353f4d9c3d1e2e9}{mousePressEvent}}(QGraphicsSceneMouseEvent*\ event)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_a79c7253e9fe30011795176a005bc90db}{mouseMoveEvent}}(QGraphicsSceneMouseEvent*\ event)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_simple_drawing_scene_a6e476e5a5bd0f44084ffcbb0a7874224}{mouseReleaseEvent}}(QGraphicsSceneMouseEvent*\ event)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00117\ \ \ \ \ QGraphicsItem*\ create\_from\_types(QPen\&\ pen);}
\DoxyCodeLine{00118\ }
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{keywordtype}{void}\ process\_drawing\_moving(\textcolor{keyword}{const}\ QPointF\&\ currentPos);}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00126\ \ \ \ \ QPainterPath\ currentPath;}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00129\ \ \ \ \ QGraphicsPathItem*\ pathItem\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00130\ }
\DoxyCodeLine{00132\ \ \ \ \ QColor\ currentColor;}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordtype}{short}\ penWidth;}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00138\ \ \ \ \ QGraphicsItem*\ tempItem\ \{\ \textcolor{keyword}{nullptr}\ \};}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00141\ \ \ \ \ QPointF\ startPos\ \{\};}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00144\ \ \ \ \ \mbox{\hyperlink{class_simple_drawing_scene_a6db374d8ce718ce634f33c19eca0f142}{DrawingMode}}\ mode\ \{\ \mbox{\hyperlink{class_simple_drawing_scene_a6db374d8ce718ce634f33c19eca0f142a52d19c15cddf6b4fda9652dbf52ea57d}{DrawingMode::DrawingMode}}\ \};}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00147\ \ \ \ \ \mbox{\hyperlink{class_simple_drawing_scene_ac1c43148efeef321be72ca1a4baf338f}{SupportItemItem}}\ itemType\ \{\ \mbox{\hyperlink{class_simple_drawing_scene_ac1c43148efeef321be72ca1a4baf338fa4803e6b9e63dabf04de980788d6a13c4}{SupportItemItem::Line}}\ \};}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00150\ \ \ \ \ QList<QGraphicsItem*>\ itemsStack;}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00153\ \ \ \ \ QList<QGraphicsItem*>\ redoStack;}
\DoxyCodeLine{00154\ \};}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ SIMPLEDRAWINGSCENE\_H}}

\end{DoxyCode}
